<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>network on Hanabi|i</title><link>https://menah3m.github.io/tags/network/</link><description>Recent content in network on Hanabi|i</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 31 Aug 2020 12:34:16 +0900</lastBuildDate><atom:link href="https://menah3m.github.io/tags/network/index.xml" rel="self" type="application/rss+xml"/><item><title>Tcpdump Usage</title><link>https://menah3m.github.io/2020/tcpdump-usage/</link><pubDate>Mon, 31 Aug 2020 12:34:16 +0900</pubDate><guid>https://menah3m.github.io/2020/tcpdump-usage/</guid><description>tcpdump 是一款基于libpcap库的网络抓包工具 输入 1.基本参数 [root@centos-master ~]# tcpdump -i ens33 -nn -v -s0 port 80 -i: 监听的网络接口 -nn: 单个n表示直接显示IP，不显示域名。 两个n表示直接显示IP，不显示域名和端口 -s0: -s后面加数字， 数字表示想要截取的报文字节数，0表示截取全部报文。如果不加-s参数，默认只截取96字节。 -v:表示信息的详细程度，可以用一个v，两个v，三个v表示，v越多信息越详细。 port 80:监听端口选项 -p: 不让网络接口进入混杂模式。混杂模式会将该接口收到的所有数据截取下来，即使目的地址不是本机。非混杂模式则只接收该接口下目的地址是本机的数据包。 -e:显示数据链路层信息，包括源和目的MAC地址，以及VlAN tag信息。默认情况下是不显示的。 2.显示ASCII字符串 -A表示使用 ASCII字符串打印报文的内容
[root@centos-master ~]# tcpdump -i ens33 -nn -v -A 3.抓取特定协议的数据 可以加入协议名称来过滤特定协议的流量。参数可以是协议名 udp或者是协议号
protocol 协议号
[root@centos-master ~]# tcpdump -i ens33 icmp tcpdump: verbose output suppressed, use -v or -vv for full protocol decode listening on ens33, link-type EN10MB (Ethernet), capture size 262144 bytes 15:34:13.</description></item></channel></rss>